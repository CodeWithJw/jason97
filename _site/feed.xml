<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Jwb&apos;s Blog</title>
    <description>一个小白的日常记录</description>
    <link>http://localhost:4000/site/</link>
    <atom:link href="http://localhost:4000/site/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Mon, 06 May 2024 22:39:30 +0900</pubDate>
    <lastBuildDate>Mon, 06 May 2024 22:39:30 +0900</lastBuildDate>
    <generator>Jekyll v4.3.3</generator>
    
      <item>
        <title>DevOps中的CI</title>
        <description>&lt;h1 id=&quot;devops&quot;&gt;DevOps&lt;/h1&gt;

&lt;h2 id=&quot;软件开发过程设计工具&quot;&gt;软件开发过程&amp;amp;设计工具&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;../img/in-post/CICD/image-20240502220404765.png&quot; alt=&quot;image-20240502231443039&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;cicd持续集成和持续部署过程学习&quot;&gt;CI/CD(持续集成和持续部署过程学习)&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502220404765.png&quot; alt=&quot;image-20240502220404765&quot; style=&quot;zoom: 50%;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;code阶段服务器01安装gitlab19216811101&quot;&gt;CODE阶段—&amp;gt;服务器01安装Gitlab（192.168.11.101）&lt;/h3&gt;

&lt;p&gt;利用docker环境：先安装Docker 和 Docker-Compose&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 服务器01安装Gitlab&lt;/span&gt;
docker version
docker-compose version
systemctl stop firewalld &lt;span class=&quot;c&quot;&gt;# 关闭防火墙&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;docker &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;docker  &lt;span class=&quot;c&quot;&gt;# /usr/local/docker&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;gitlab_docker &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;gitlab_docker
&lt;span class=&quot;nb&quot;&gt;touch &lt;/span&gt;docker-compose.yml
docker search gitlab &lt;span class=&quot;c&quot;&gt;# 查询gitlab的docker镜像&lt;/span&gt;
docker pull gitlab:latest &lt;span class=&quot;c&quot;&gt;# 下载&lt;/span&gt;
docker images &lt;span class=&quot;c&quot;&gt;# 确认下载的gitlab&lt;/span&gt;
nano docker-compose.yml &lt;span class=&quot;c&quot;&gt;# 编辑 如下&lt;/span&gt;

systemctl restart docker
docker-compose logs &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# 可通过浏览器访问192.168.11.101:8929查看gitlab&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;编辑docker-compose.yml文件，设置为docker启动就会让gitlab启动&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3.1&apos;&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;gitlab&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;gitlab-image&apos;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# 镜像名称&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;container-name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gitlab&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# 容器名称&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;always&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;				&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;# 随着docker启动而启动&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;		environment&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;			&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;GITLAB_OMNIBUS_CONFIG&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;				&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;external_url &apos;http://192.168.11.101:8929&apos;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# 当前宿主机ip&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;				&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;gitlab_rails[&apos;gitlab_shell_ssh_port&apos;]=2224&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;		ports&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;			&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;8989:8989&apos;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;			&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;2224:2224&apos;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;			&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./config:/etc/gitlab&apos;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;			&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./logs:/var/log/gitlab&apos;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;			&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./data:/var/opt/gitlab&apos;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;进入docker中的gitlab镜像编辑：&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker &lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-it&lt;/span&gt; gitlab bash
&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; /etc/gitlab/initial_root_password &lt;span class=&quot;c&quot;&gt;#找到gitlab密码，在浏览器中修改&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# 在gitlab中创建新仓库，用于开发推送&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;build阶段服务器02安装mavenjdk19216811102&quot;&gt;BUILD阶段—&amp;gt;服务器02安装Maven，JDK（192.168.11.102）&lt;/h3&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Tip 修改虚拟机ip地址 超级模式下：&lt;/span&gt;
nano /etc/sysconfig/network-scripts/ifcfg-ens33
systemctl restart network
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 安装maven 安装jdk8&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zxvf&lt;/span&gt; maven &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; /usr/local
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zxvf&lt;/span&gt; jdk8 &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; /usr/local
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;maven &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; nano conf/settings.xml &lt;span class=&quot;c&quot;&gt;# 设置maven 的阿里云镜像&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# maven默认使用jdk1.8版本&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;profile&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;id&amp;gt;jdk8&amp;lt;/id&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;activation&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;activeByDefault&amp;gt;true&amp;lt;/activeByDefault&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;jdk&amp;gt;1.8&amp;lt;/jdk&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;/activation&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;maven.compiler.source&amp;gt;1.8&amp;lt;/maven.compiler.source&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;maven.compiler,target&amp;gt;1.8&amp;lt;/maven.compiler.target&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;maven.compiler.compilerVersion&amp;gt;1.8&amp;lt;/maven.compiler.compilerVersion&amp;gt;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&amp;lt;/profile&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;operate阶段服务器02安装docker&quot;&gt;OPERATE阶段—&amp;gt;服务器02安装Docker&lt;/h3&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 安装Docker&lt;/span&gt;
docker &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# 各种方法&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; +x docker-compose &lt;span class=&quot;c&quot;&gt;# 同时也要安装并赋予可执行&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mv &lt;/span&gt;docker-compose /usr/bin &lt;span class=&quot;c&quot;&gt;# 添加环境变量&lt;/span&gt;
systemctl start docker &lt;span class=&quot;c&quot;&gt;# 启动&lt;/span&gt;
systemctl &lt;span class=&quot;nb&quot;&gt;enable &lt;/span&gt;docker &lt;span class=&quot;c&quot;&gt;# 开机自启动&lt;/span&gt;
docker version &lt;span class=&quot;c&quot;&gt;# 确定安装成功&lt;/span&gt;
docker-cmopose version
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;integrate阶段服务器02安装jenkins&quot;&gt;INTEGRATE阶段—&amp;gt;服务器02安装Jenkins&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502225544686.png&quot; alt=&quot;image-20240502225544686&quot; style=&quot;zoom: 50%;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;CI可以理解为：Jenkins将代码拉取、构建、制作镜像交给测试人员测试。&lt;/strong&gt;
&lt;strong&gt;持续集成：将代码持续的集成到主干上，并自动构建和测试&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;CD可以理解为：通过Jenkins将打包好标签的发行版本代码拉取、构建、制作镜像交给运维人员部署。&lt;/strong&gt;
&lt;strong&gt;持续交付：让经过持续集成的代码可以进行手动部署。&lt;/strong&gt;
&lt;strong&gt;持续部署：让可以持续交付的代码随时随地的自动化部署&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 安装Jenkins&lt;/span&gt;
docker pull jenkins/jenkins
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/local &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;docker
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;docker &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mkdir &lt;/span&gt;jenkins_docker
&lt;span class=&quot;nb&quot;&gt;touch &lt;/span&gt;docker-compose.yml &lt;span class=&quot;c&quot;&gt;# jenkins相关&lt;/span&gt;
docker-compose up &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; 777 data &lt;span class=&quot;c&quot;&gt;# 给docker权限&lt;/span&gt;
docker-compose restart
docker logs &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; jenkins &lt;span class=&quot;c&quot;&gt;# 获取密码&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# 访问jenkins首页 192.168.11.102：8080并设置，下载插件&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Git parameter &amp;amp; Publish over SSH&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;编辑docker-compose.yml&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3.1&apos;&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;jenkins&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;jenkins/jenkins:version-number&apos;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# 镜像名称&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;container-name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;jenkins&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# 容器名称&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;			&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;8080:8080&apos;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;			&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;50000:50000&apos;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;		&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;			&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;./data/:/var/jenkins_home/&apos;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# 前面是宿主机，后面是镜像中项目和插件的位置&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;将jdk和maven移动到jenkins的data目录下&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/local/docker/jenkins_docker/data
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; /usr/local/jdk/ ./
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; /usr/local/maven/ ./
&lt;span class=&quot;c&quot;&gt;# 在容器中制定jdk和maven，可以在浏览器中全局设置中设置&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;在浏览器中全局设置中设置
&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502231938967.png&quot; alt=&quot;image-20240502231938967&quot; style=&quot;zoom: 50%;&quot; /&gt;&lt;img src=&quot;/Users/hanabi/Desktop/博客图片/image-20240502232009886.png&quot; alt=&quot;image-20240502232009886&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;在浏览器中系统设置中设置，发布地址&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502232213345.png&quot; alt=&quot;image-20240502232213345&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ci过程&quot;&gt;CI过程&lt;/h3&gt;

&lt;h4 id=&quot;创建git仓库并推送代码&quot;&gt;创建git仓库并推送代码&lt;/h4&gt;

&lt;h4 id=&quot;通过freestyle-project设置jenkins&quot;&gt;通过Freestyle Project设置Jenkins&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502234148371.png&quot; alt=&quot;image-20240502234148371&quot; style=&quot;zoom: 33%;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;build-now&quot;&gt;Build now&lt;/h4&gt;

&lt;p&gt;拉取到jenkins&lt;/p&gt;

&lt;h4 id=&quot;configure&quot;&gt;Configure&lt;/h4&gt;

&lt;h5 id=&quot;build&quot;&gt;Build&lt;/h5&gt;

&lt;h5 id=&quot;add-build-step-invoke-top-level-maven-targets&quot;&gt;Add build step: Invoke top-level Maven targets&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502234509415.png&quot; alt=&quot;image-20240502234509415&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;post-build-actions&quot;&gt;Post-build-actions&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502234826480.png&quot; alt=&quot;image-20240502234826480&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502234714055.png&quot; alt=&quot;image-20240502234714055&quot; style=&quot;zoom: 33%;&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;构建docker镜像&quot;&gt;构建docker镜像&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502235646353.png&quot; alt=&quot;image-20240502235646353&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;构建docker-yml文件&quot;&gt;构建docker yml文件&lt;/h5&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240503000622131.png&quot; alt=&quot;image-20240503000622131&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;jenkins拉取文件汇总&quot;&gt;jenkins拉取文件汇总&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240502235929210.png&quot; alt=&quot;image-20240502235929210&quot; style=&quot;zoom: 67%;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;自动构建后执行&quot;&gt;自动构建后执行&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/图片.jpeg&quot; alt=&quot;image-20240503000356685&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;查看效果&quot;&gt;查看效果&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240503000701444.png&quot; alt=&quot;image-20240503000701444&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;cd过程&quot;&gt;CD过程&lt;/h3&gt;

&lt;p&gt;通过Git parameter 根据tag进行拉取&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/image-20240503001605031.png&quot; alt=&quot;image-20240503001605031&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;根据tag进行检查&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/jason97/img/in-post/CIinDevops/mage-20240503001643591.png&quot; alt=&quot;image-20240503001643591&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Fri, 03 May 2024 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/site/2024/05/03/CI_in_DevOps/</link>
        <guid isPermaLink="true">http://localhost:4000/site/2024/05/03/CI_in_DevOps/</guid>
        
        <category>DevOps</category>
        
        <category>CI/CD</category>
        
        
      </item>
    
  </channel>
</rss>
